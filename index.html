<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Trinity.wcf.log4net by eduardosilva</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Trinity.wcf.log4net</h1>
        <p>Library that supports the use of log4net with WCF</p>

        <p class="view"><a href="https://github.com/eduardosilva/Trinity.Wcf.Log4Net">View the Project on GitHub <small>eduardosilva/Trinity.Wcf.Log4Net</small></a></p>


        <ul>
          <li><a href="https://github.com/eduardosilva/Trinity.Wcf.Log4Net/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/eduardosilva/Trinity.Wcf.Log4Net/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/eduardosilva/Trinity.Wcf.Log4Net">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a name="trinitywcflog4net" class="anchor" href="#trinitywcflog4net"><span class="octicon octicon-link"></span></a>Trinity.wcf.log4net</h3>

<p>Library that supports the use of log4net with WCF</p>

<h3>
<a name="nuget" class="anchor" href="#nuget"><span class="octicon octicon-link"></span></a>Nuget</h3>

<p><a href="https://www.nuget.org/packages/TrinityWcfLog4Net/">Nuget Package</a></p>

<h3>
<a name="configuration" class="anchor" href="#configuration"><span class="octicon octicon-link"></span></a>Configuration</h3>

<p>In web.config perform the following settings:</p>

<pre><code>&lt;configuration&gt;
  &lt;configSections&gt;
    &lt;!-- Log4Net Configuration --&gt;
    &lt;section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" requirePermission="false"/&gt;
  &lt;/configSections&gt;
...

  &lt;log4net&gt;
    &lt;root&gt;
      &lt;level value="ALL"/&gt;
      &lt;appender-ref ref="RollingFileAppender"/&gt;
    &lt;/root&gt;

    &lt;!-- *.TXT FILE CONFIGURATION --&gt;
    &lt;appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender"&gt;
      &lt;file value="C:\temp\Logs/.txt"/&gt;
      &lt;appendToFile value="true"/&gt;
      &lt;lockingModel type="log4net.Appender.FileAppender+MinimalLock"/&gt;
      &lt;rollingStyle value="Date"/&gt;
      &lt;param name="RollingStyle" value="Date"/&gt;
      &lt;param name="DatePattern" value="yyyy/MM/dd"/&gt;
      &lt;PreserveLogFileNameExtension value="true"/&gt;
      &lt;maxSizeRollBackups value="10"/&gt;
      &lt;maximumFileSize value="1024KB"/&gt;
      &lt;staticLogFileName value="false"/&gt;
      &lt;layout type="log4net.Layout.PatternLayout"&gt;
        &lt;conversionPattern value="%newline%date [%thread] %-5level %logger %newline%message%newline"/&gt;
      &lt;/layout&gt;
    &lt;/appender&gt;
  &lt;/log4net&gt;

...

&lt;system.serviceModel&gt;
    &lt;behaviors&gt;
      &lt;serviceBehaviors&gt;
        &lt;behavior&gt;
          &lt;!-- To avoid disclosing metadata information, 
          set the value below to false and remove the metadata endpoint above before deployment --&gt;
          &lt;serviceMetadata httpGetEnabled="True"/&gt;
          &lt;!-- To receive exception details in faults for debugging purposes, 
          set the value below to true.  Set to false before deployment 
          to avoid disclosing exception information --&gt;
          &lt;serviceDebug includeExceptionDetailInFaults="False"/&gt;
          &lt;log4net/&gt;
        &lt;/behavior&gt;
      &lt;/serviceBehaviors&gt;
    &lt;/behaviors&gt;
    &lt;extensions&gt;
      &lt;behaviorExtensions&gt;
        &lt;add name="log4net" type="Trinity.Wcf.Log4Net.Log4NetBehaviorExtensionElement, Trinity.Wcf.Log4Net, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"/&gt;
      &lt;/behaviorExtensions&gt;
    &lt;/extensions&gt;
&lt;/system.serviceModel&gt;
</code></pre>

<h3>
<a name="observation" class="anchor" href="#observation"><span class="octicon octicon-link"></span></a>Observation</h3>

<p>Even performing the reference to Trinity.Wcf.Log4Net.dll, ensure that it is in the bin folder of the project to run it locally.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/eduardosilva">eduardosilva</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>